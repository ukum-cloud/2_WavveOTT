@use "../../App.scss" as g;

.ticket-wrap {
  margin-top: 90px;
  padding-top: 60px;

  section {
    @include g.myFlexCol($gap: 40px);
  }

  .ticket-card-list {
    display: flex;
    gap: 20px;
    overflow-x: auto;
    list-style: none;
    padding: 0;
    margin: 0;
    padding-bottom: 20px;

    /* 스크롤바 디자인 - Webkit (Chrome, Safari, Edge) */
    &::-webkit-scrollbar {
      height: 8px;
    }

    &::-webkit-scrollbar-track {
      background: g.$color-secondary-dark2;
      border-radius: 10px;
    }

    &::-webkit-scrollbar-thumb {
      background: g.$color-secondary-dark1;
      border-radius: 10px;

      &:hover {
        background: #555;
      }
    }

    /* Firefox 스크롤바 */
    scrollbar-width: thin;
    scrollbar-color: g.$color-secondary-dark1 g.$color-secondary-dark2;

    >.list {
      position: relative;
      width: 464px;
      height: 480px;
      flex-shrink: 0; /* 카드 크기 유지 */
      transform-style: preserve-3d;
      transition: transform 0.9s cubic-bezier(0.4, 0, 0.2, 1);

      >div {
        /* 앞면/뒷면 공통 스타일 */
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;

        backface-visibility: hidden;
        // 부드러운 회전 효과
        transition: transform 0.9s cubic-bezier(0.4, 0, 0.2, 1);

        color: white;
        padding: 24px;
        display: block;
      }

      // ===================================
      // 1. 앞면 (.card-front) 스타일
      // ===================================
      >.card-front {
        background-color: g.$color-secondary-dark1;
        border: 1px solid g.$color-secondary-dark2;
        z-index: 2;
        transform: rotateY(0deg);

        /* 앞면 레이아웃: Flex를 사용하여 내용과 버튼 배치 */
        display: flex;
        flex-direction: column;

        h3 {
          margin-top: 0;
          font-size: 28px;
        }
      }

      // ===================================
      // 2. 뒷면 (.card-back) 스타일
      // ===================================
      >.card-back {
        padding: 40px;
        border-radius: 12px;
        border: 1px solid #1D2131;
        background: #040407;
        z-index: 1;
        transform: rotateY(180deg);
        overflow-y: auto;

        /* 뒷면 세로 스크롤바 디자인 */
        &::-webkit-scrollbar {
          width: 6px;
        }

        &::-webkit-scrollbar-track {
          background: transparent;
        }

        &::-webkit-scrollbar-thumb {
          background: #333;
          border-radius: 10px;

          &:hover {
            background: #555;
          }
        }

        scrollbar-width: thin;
        scrollbar-color: #333 transparent;

        ul {
          @include g.myFlexCol($gap: 20px);

          >li {
            @include g.myFlex($gap:0);

            strong {
              color: g.$color-font-grey2;
              font-weight: normal;
            }
          }
        }
      }

      // ===================================
      // 3. .flipped 클래스 추가 시 모션 실행
      // ===================================
      &.flipped {
        // 앞면을 뒤로 180도 회전하여 숨김
        >.card-front {
          transform: rotateY(-180deg);
        }

        // 뒷면을 정면 (0도)으로 회전하여 보이게 함
        >.card-back {
          transform: rotateY(0deg);
        }
      }
    }
  }
}